{% extends 'index.html' %}

{% import 'macros/geomicons.html' as geomicons %}

{% block meta %}
    <title>{{ page.title }} | Posts</title>
    <meta name="description" content="{{ page.summary }}">
    <link rel="canonical" href="{{ host + route(routename|default('post'), page) }}">
{% endblock %}

{% block main %}
    <article itemscope itemtype="http://schema.org/BlogPosting">
        <header>
            <h1 itemprop="name">{{ page.title }}</h1>
            <p class="info">
                <time itemprop="datePublished" datetime="{{ page.date.format("YYYY-MM-DD") }}">{{ geomicons.icon('calendar') }} {{ page.date.format("MMMM D, YYYY") }}</time>
            </p>
        </header>
        <div itemprop="text">{{ page.content|safe }}</div>
        <footer>
            <p class="share">
                <span>Share with:</span>
                <a href="https://twitter.com/intent/tweet?url={{ host + route(routename|default('post'), page)|urlencode }}&amp;text={{ page.title|urlencode }}" target="_blank">{{ geomicons.icon('twitter') }} Twitter</a>
            </p>
        </footer>
    </article>
    {% if page.previous or page.next %}
        <nav class="pagination">
            {% if page.previous %}
                <a rel="prev" href="{{ route(routename|default('post'), page.previous) }}">{{ geomicons.icon('chevron-left') }} Older</a>
            {% else %}
                <span>{{ geomicons.icon('chevron-left') }} Older</span>
            {% endif %}

            {% if page.next %}
                <a rel="next" href="{{ route(routename|default('post'), page.next) }}">Newer {{ geomicons.icon('chevron-right') }}</a>
            {% else %}
                <span>Newer {{ geomicons.icon('chevron-right') }}</span>
            {% endif %}
        </nav>
    {% endif %}
{% endblock %}
